<!-- User menu button -->
<button 
  pButton 
  icon="pi pi-user" 
  class="p-button-rounded p-button-text"
  [pMenuTriggerFor]="menu">
</button>

<p-menu #menu [model]="menuItems()" [popup]="true"></p-menu>

<!-- Notifications Dialog -->
<p-dialog 
  header="Notificaciones" 
  [(visible)]="showNotificationsDialog()" 
  [style]="{ width: '90vw', maxWidth: '500px' }"
  [modal]="true"
  [dismissableMask]="true">
  
  <div class="notifications-container">
    <div *ngFor="let notification of notifications()" class="notification-item">
      <div class="notification-header">
        <span class="notification-title">{{ notification.title }}</span>
        <span class="notification-time">{{ notification.createdAt | date:'short' }}</span>
      </div>
      <div *ngIf="notification.description" class="notification-description">
        {{ notification.description }}
      </div>
      <div class="notification-priority" [ngClass]="{
        'priority-high': notification.levelOfPriority.priority >= 7,
        'priority-medium': notification.levelOfPriority.priority >= 4 && notification.levelOfPriority.priority < 7,
        'priority-low': notification.levelOfPriority.priority < 4
      }">
        {{ notification.levelOfPriority.title }}
      </div>
    </div>
    
    <div *ngIf="notifications().length === 0" class="no-notifications">
      No hay notificaciones
    </div>
  </div>
  
  <ng-template pTemplate="footer">
    <button 
      pButton 
      label="Cerrar" 
      class="p-button-text"
      (click)="showNotificationsDialog.set(false)">
    </button>
  </ng-template>
</p-dialog>>