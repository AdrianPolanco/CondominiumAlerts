<div
  class="flex max-w-1/2"
  [ngClass]="{
    'justify-end': isCurrentUser(),
    'justify-start': !isCurrentUser()
  }"
>
  <div class="flex gap-2.5 mb-4">
    <img
      onerror="this.src='/images/default-profile-pic.png'"
      [src]="message()?.creatorUser?.profilePictureUrl"
      [alt]="message()?.id"
      class="w-11 h-11 rounded-full"
    />
    <div>
      <h5 class="text-gray-900 text-sm font-semibold leading-snug pb-1">
        {{ isCurrentUser() ? "You" : getUserNameById(message()?.creatorUser!) }}
      </h5>
      <div class="w-max-1/2 grid">
        <div
          [ngClass]="{
            'bg-primary-700 text-white': isCurrentUser(),
            'bg-gray-100 text-gray-700': !isCurrentUser()
          }"
          class="rounded px-3.5 py-2 justify-start {{ message()?.mediaUrl === null ? 'items-center' : 'flex-col'}} gap-3 inline-flex"
        >
          <h5 class="text-sm font-normal leading-snug">
            {{ message()?.text }}
          </h5>

          <!-- Imagen si existe -->
          <img
            *ngIf="message()?.mediaUrl"
            [src]="message()?.mediaUrl"
            alt="Imagen del mensaje"
            class="max-w-[300px] rounded mt-2 border border-gray-300 dark:border-gray-600 shadow"
          />
        </div>
        <div class="justify-end items-center inline-flex mb-2.5">
          <h6 class="text-gray-500 text-xs font-normal leading-4 py-1">
            {{ message()?.createdAt! | dateEs }}
          </h6>
        </div>
      </div>
    </div>
  </div>
</div>
